jQuery(function(i){i(".so-widget-toggle-active button").click(function(){var e=i(this),s=e.data("status"),t=e.closest(".so-widget");s?t.addClass("so-widget-is-active").removeClass("so-widget-is-inactive"):t.removeClass("so-widget-is-active").addClass("so-widget-is-inactive"),i.post(soWidgetsAdmin.toggleUrl,{widget:t.data("id"),active:s},function(i){})}),i(".so-widget-banner").each(function(){var e=i(this),s=e.find("img");if(s.length)s.width()>128&&s.css("margin-left",-(s.width()-128)/2);else{var t=Trianglify({width:128,height:128,variance:1,cell_size:32,seed:e.data("seed")});e.append(t.svg())}});var e=function(){var e=i(this).val().toLowerCase();""===e?i(".so-widget-wrap").show():i(".so-widget").each(function(){var s=i(this);s.find("h3").html().toLowerCase().indexOf(e)>-1?s.parent().show():s.parent().hide()})};i("#sow-widget-search input").on({keyup:e,search:e}),i(window).resize(function(){var e=i(".so-widget-text").css("height","auto"),s=0;e.each(function(){s=Math.max(s,i(this).height())}),e.each(function(){i(this).css("height",s)})}).resize(),i("#sow-widgets-page .page-nav a").click(function(e){e.preventDefault();var s=i(this),t=s.attr("href"),a=s.closest("li");switch(i("#sow-widgets-page .page-nav li").not(a).removeClass("active"),a.addClass("active"),t){case"#all":i(".so-widget-wrap").show();break;case"#enabled":i(".so-widget-wrap").hide(),i(".so-widget-wrap .so-widget-is-active").each(function(){i(this).closest(".so-widget-wrap").show()}),i(".so-widget-wrap .so-widget-is-inactive").each(function(){i(this).closest(".so-widget-wrap").hide()});break;case"#disabled":i(".so-widget-wrap .so-widget-is-active").each(function(){i(this).closest(".so-widget-wrap").hide()}),i(".so-widget-wrap .so-widget-is-inactive").each(function(){i(this).closest(".so-widget-wrap").show()})}i(window).resize()}),i("#widgets-list").addClass("so-animated");var s=i("#sow-settings-dialog");i("#widgets-list .so-widget-settings").click(function(e){var t=i(this);e.preventDefault(),s.find(".so-content").empty().addClass("so-loading").load(t.data("form-url"),function(){i(this).removeClass("so-loading")}),s.show()}),s.find(".so-close").click(function(i){i.preventDefault(),s.hide()}),s.find(".so-save").click(function(e){e.preventDefault();var t=i(this);t.prop("disabled",!0),i("#widgets-list .so-widget-settings").prop("disabled",!0),s.find("form").submit(function(){t.prop("disabled",!1),s.hide()}).submit()}),i("#so-widget-settings-save").load(function(){i("#widgets-list .so-widget-settings").prop("disabled",!1)})});