var sowb=window.sowb||{};sowb.SiteOriginSlider=function(e){return{playSlideVideo:function(i){e(i).find("video").each(function(){void 0!==this.play&&this.play()})},pauseSlideVideo:function(i){e(i).find("video").each(function(){void 0!==this.pause&&this.pause()})},setupActiveSlide:function(i,t,n){var s=e(i).find(".cycle-sentinel"),o=e(t),d=o.find("video.sow-background-element");if(void 0==n?s.css("height",o.outerHeight()):s.animate({height:o.outerHeight()},n),d.length){o.outerWidth()/o.outerHeight()>d.outerWidth()/d.outerHeight()?d.css({width:"100%",height:"auto"}):d.css({width:"auto",height:"100%"}),d.css({"margin-left":-Math.ceil(d.width()/2),"margin-top":-Math.ceil(d.height()/2)})}}}},jQuery(function(e){sowb.setupSliders=sowb.setupSlider=function(){var i=new sowb.SiteOriginSlider(e);e(".sow-slider-images").each(function(){var t=e(this);if(t.data("initialized"))return t;var n=t.siblings(".sow-slider-pagination"),s=t.closest(".sow-slider-base"),o=s.find(".sow-slide-nav"),d=t.find(".sow-slider-image"),l=t.data("settings");d.each(function(i,t){var n=e(t),s=n.data("url");void 0!==s&&s.hasOwnProperty("url")&&(n.click(function(e){e.preventDefault(),window.open(s.url,s.hasOwnProperty("new_window")&&s.new_window?"_blank":"_self").opener=null}),n.find("a").click(function(e){e.stopPropagation()}))});var a=function(){var c=t.closest(".so-widget-fittext-wrapper");if(c.length>0&&!c.data("fitTextDone"))return void c.on("fitTextDone",function(){a()});s.show();var r=function(){t.find(".sow-slider-image").each(function(){var i=e(this);i.css("height",i.find(".sow-slider-image-wrapper").outerHeight())})};if(e(window).on("resize panelsStretchRows",r).resize(),t.on({"cycle-after":function(t,n,s,o,d){var l=e(this);i.playSlideVideo(o),i.setupActiveSlide(l,o),e(o).trigger("sowSlideCycleAfter")},"cycle-before":function(t,s,o,d,l){var a=e(this);n.find("> li").removeClass("sow-active").eq(s.slideNum-1).addClass("sow-active"),i.pauseSlideVideo(o),i.setupActiveSlide(a,d,s.speed),e(d).trigger("sowSlideCycleBefore")},"cycle-initialized":function(s,d){i.playSlideVideo(e(this).find(".cycle-slide-active")),i.setupActiveSlide(t,d.slides[0]),n.find(">li").removeClass("sow-active").eq(0).addClass("sow-active"),e(this).find(".cycle-slide-active").trigger("sowSlideInitial"),d.slideCount<=1&&(n.hide(),o.hide()),e(window).resize(),setTimeout(function(){r(),i.setupActiveSlide(t,d.slides[0]),t.find(".cycle-sentinel").empty()},200)}}).cycle({slides:"> .sow-slider-image",speed:l.speed,timeout:l.timeout,swipe:l.swipe,"swipe-fx":"scrollHorz"}),t.find("video.sow-background-element").on("loadeddata",function(){i.setupActiveSlide(t,t.find(".cycle-slide-active"))}),n.add(o).hide(),!s.hasClass("sow-slider-is-mobile")&&d.length>1){var u=!1;s.mouseenter(function(){n.add(o).clearQueue().fadeIn(150),u=!1}).mouseleave(function(){u=!0,setTimeout(function(){u&&n.add(o).clearQueue().fadeOut(150),u=!1},750)})}e(window).resize(function(){i.setupActiveSlide(t,t.find(".cycle-slide-active"))}),n.find("> li > a").click(function(i){i.preventDefault(),t.cycle("goto",e(this).data("goto"))}),o.find("> a").click(function(i){i.preventDefault(),t.cycle(e(this).data("action"))}),s.keydown(function(e){37===e.which?t.cycle("prev"):39===e.which&&t.cycle("next")})},c=t.find("img"),r=0,u=!1;c.each(function(){e(this);this.complete?r++:e(this).one("load",function(){++r!==c.length||u||(a(),u=!0)}).attr("src",e(this).attr("src")),r!==c.length||u||(a(),u=!0)}),0===c.length&&a(),t.data("initialized",!0)})},sowb.setupSliders(),e(sowb).on("setup_widgets",sowb.setupSliders)}),window.sowb=sowb;