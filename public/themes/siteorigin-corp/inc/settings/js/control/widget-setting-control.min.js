!function(e,t,i){e.controlConstructor["siteorigin-widget-setting"]=e.Control.extend({ready:function(){var e=this,t=e.container;t.find(".so-widget-form").hide(),t.find(".so-edit-widget, .so-widget-form .so-widget-close").click(function(i){i.preventDefault(),t.find(".so-widget-form").toggle(),t.find(".so-widget-form").is(":visible")||e.updateValue()})},updateValue:function(){var e,t=this.getFormValues();try{e=t.siteorigin_settings_widget[1]}catch(i){e={}}e.panels_info={"class":this.container.find(".so-widget-form").data("widget-class")},this.setting.set(e)},getFormValues:function(){var e,n=this.container.find(".so-widget-form"),s={};return n.find("[name]").each(function(){var n=t(this);try{var a=/([A-Za-z_]+)\[(.*)\]/.exec(n.attr("name"));if(i.isEmpty(a))return!0;i.isUndefined(a[2])?e=n.attr("name"):(e=a[2].split("]["),e.unshift(a[1])),e=e.map(function(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e):e});var o=s,r=null,d=!!i.isString(n.attr("type"))&&n.attr("type").toLowerCase();if("checkbox"===d)r=n.is(":checked")?""===n.val()||n.val():null;else if("radio"===d){if(!n.is(":checked"))return;r=n.val()}else if("TEXTAREA"===n.prop("tagName")&&n.hasClass("wp-editor-area")){var l=null;i.isUndefined(tinyMCE)||(l=tinyMCE.get(n.attr("id"))),r=null!==l&&i.isFunction(l.getContent)&&!l.isHidden()?l.getContent():n.val()}else if("SELECT"===n.prop("tagName")){var c=n.find("option:selected");1===c.length?r=n.find("option:selected").val():c.length>1&&(r=i.map(n.find("option:selected"),function(e,i){return t(e).val()}))}else r=n.val();if(null!==r)for(var f=0;f<e.length;f++)f===e.length-1?""===e[f]?o.push(r):o[e[f]]=r:(i.isUndefined(o[e[f]])&&(""===e[f+1]?o[e[f]]=[]:o[e[f]]={}),o=o[e[f]])}catch(g){console.log("Field ["+n.attr("name")+"] could not be processed and was skipped - "+g.message)}}),s}})}(wp.customize,jQuery,_);