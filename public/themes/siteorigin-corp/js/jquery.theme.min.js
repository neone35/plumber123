jQuery(function(t){function e(){var t=jQuery(window).scrollTop(),e="no";jQuery(".panel-row-style").each(function(){var o="#"+jQuery(this).attr("id"),i=jQuery(this).offset().top-1,n=jQuery(this).outerHeight(),a=i-s,r=i+n-s;return t>=a&&t<=r?(e="yes",jQuery("#site-navigation .current").removeClass("current"),jQuery('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1):void("no"===e&&jQuery("#site-navigation .current").removeClass("current"))})}t.fn.siteoriginCorpIsVisible=function(){var t=this[0].getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)};var o={x:0,y:0};if(t(document).mousemove(function(t){o={x:t.pageX,y:t.pageY}}),"undefined"!=typeof t.fn.fitVids&&t(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),t(document).ready(function(){t(".flexslider").each(function(){t(this).flexslider({animation:"slide",customDirectionNav:t(this).find(".flex-direction-nav a"),start:function(){t(".flexslider .slides img").show()}})})}),t("body.no-js").removeClass("no-js"),t("body").hasClass("css3-animations")){var i=function(){t(".main-navigation ul ul").each(function(){var e=t(this),o=Math.max.apply(Math,e.find("> li:not(.mini_cart_item) > a").map(function(){return t(this).width()}).get());e.find("> li > a").width(o)})};i(),t(window).resize(i),t(".menu-item").children("a").focus(function(){t(this).parents("ul, li").addClass("focus")}),t(".menu-item").children("a").click(function(){t(this).parents("ul, li").removeClass("focus")}),t(".menu-item").children("a").focusout(function(){t(this).parents("ul, li").removeClass("focus")})}jQuery(document).ready(function(t){window.location.hash||(t('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),t(window).scroll(function(){t("#site-navigation ul li").hasClass("current")&&t("#site-navigation li").removeClass("current-menu-item")}))});var s,n=t("#wpadminbar").outerHeight(),a=t("body").hasClass("admin-bar"),r=t("header").hasClass("sticky");s=r&&a&&jQuery(window).width()>600?n+t("header").outerHeight()-1:r?t("header").outerHeight()-1:0,t.fn.siteoriginCorpSmoothScroll=function(){t("body").hasClass("disable-smooth-scroll")||t(this).click(function(t){var e=this.hash,o=e.substring(1),i=this;if(jQuery(".panel-grid [id*="+o+"]").length>0?(jQuery("#site-navigation .current").removeClass("current"),jQuery(i).parent("li").addClass("current")):jQuery("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=jQuery(this.hash);if(n=n.length?n:jQuery("[name="+this.hash.slice(1)+"]"),n.length)return jQuery("html, body").animate({scrollTop:n.offset().top-s},1200),!1}})},jQuery(window).load(function(){t('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),jQuery(window).load(function(){if(location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var t=jQuery(window.location.hash);if(t.length)return jQuery("html, body").animate({scrollTop:t.offset().top-s},0),!1}}),jQuery(window).on("scroll",e);var l=!1;t("#mobile-menu-button").click(function(e){e.preventDefault();var o=t(this);if(o.toggleClass("to-close"),l===!1){l=t("<div></div>").append(t(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide(),l.find("#primary-menu").show().css("opacity",1),l.find(".menu-item-has-children > a").addClass("has-dropdown"),l.find(".page_item_has_children > a").addClass("has-dropdown"),l.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),l.find(".dropdown-toggle").click(function(e){e.preventDefault(),t(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),l.find(".has-dropdown").click(function(e){"undefined"!=typeof t(this).attr("href")&&"#"!=t(this).attr("href")||(e.preventDefault(),t(this).siblings(".dropdown-toggle").trigger("click"))});var i=function(){if(t("#masthead").hasClass("sticky")){var e="fixed"===t("#wpadminbar").css("position")?t("#wpadminbar").outerHeight():0,o=t("#masthead").innerHeight(),i=t(window).height()-o-e;t("#mobile-navigation").css("max-height",i)}};i(),t(window).resize(i),t("#mobile-navigation").scroll(i)}l.slideToggle("fast"),t("#mobile-navigation a").click(function(e){(!t(this).hasClass("has-dropdown")||"undefined"!=typeof t(this).attr("href")&&"#"!==t(this).attr("href"))&&l.is(" :visible")&&l.slideUp("fast"),o.removeClass("to-close")}),t('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),t("#search-button").click(function(e){e.preventDefault();var o=t(this);o.toggleClass("close-search"),t("input[type='search']").each(function(){t(this).attr("size",t(this).attr("placeholder").length)});var i=function(){var e=t(window).width(),o=t(window).height();t("#fullscreen-search").css({height:o+"px",width:e+"px"})};i(),t(window).resize(i),o.hasClass("close-search")?(t("body").css("margin-right",window.innerWidth-t("body").width()+"px"),t("body").css("overflow","hidden")):(t("body").css("overflow",""),t("body").css("margin-right","")),t("#fullscreen-search").slideToggle("fast"),t("#fullscreen-search input").focus()}),t("#fullscreen-search-form").submit(function(){t(this).find("button svg").hide(),t(this).find("button svg:last-child").show()}),t("#fullscreen-search #search-close-button").click(function(e){e.preventDefault(),t("#search-button.close-search").trigger("click")}),t(document).keyup(function(e){27===e.keyCode&&t("#search-button.close-search").trigger("click")});var c=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>t("#masthead").outerHeight()?t("#scroll-to-top").hasClass("show")||t("#scroll-to-top").css("pointer-events","auto").addClass("show"):t("#scroll-to-top").hasClass("show")&&t("#scroll-to-top").css("pointer-events","none").removeClass("show")};if(c(),t(window).scroll(c),t("#scroll-to-top").click(function(){t("html, body").animate({scrollTop:0})}),t("#masthead").hasClass("sticky")){var d=!1,h=t("#page").offset().top,u=t("#masthead"),f=t("#topbar"),p=t('#topbar .woocommerce-store-notice[style*="display: none"]'),g=function(){t("body").hasClass("mobile-header-ns")&&t(window).width()<siteoriginCorp.collapse||(d===!1&&(d=t('<div class="masthead-sentinel"></div>').insertAfter(u),d.css("height",u.outerHeight())),t("body").hasClass("no-topbar")||f.siteoriginCorpIsVisible()||t("body").addClass("topbar-out"),f.length&&t("body").hasClass("topbar-out")&&f.siteoriginCorpIsVisible()&&t("body").removeClass("topbar-out"),t("body").hasClass("no-topbar")&&!t(window).scrollTop()&&t("body").addClass("topbar-out"),t("body").hasClass("no-topbar")||!t("body").hasClass("no-topbar")&&t("body").hasClass("topbar-out")||p.length?u.css("position","fixed"):t("body").hasClass("no-topbar")||t("body").hasClass("topbar-out")||u.css("position","absolute"))};g(),t(window).resize(g).scroll(g);var m=function(){t(window).scrollTop()>0?t(u).addClass("stuck"):t(u).removeClass("stuck")};m(),t(window).scroll(m);var w={top:parseInt(u.css("padding-top")),bottom:parseInt(u.css("padding-bottom"))};if(u.data("scale-logo")){var b=u.find(".site-branding img"),y=b.width(),v=b.height();scaledWidth=y*siteoriginCorp.logoScale,scaledHeight=v*siteoriginCorp.logoScale;var C=function(){var t=u.find(".site-branding > *"),e=window.pageYOffset||document.documentElement.scrollTop;if(e-=h,e>0){if(b.height()!=scaledHeight||b.width()!=scaledWidth){var o=siteoriginCorp.logoScale+Math.max(0,48-e)/48*(1-siteoriginCorp.logoScale);b.length?b.css({width:y*o,height:v*o,"max-width":"none"}):t.css("transform","scale("+o+")"),u.css({"padding-top":w.top*o,"padding-bottom":w.bottom*o}).addClass("stuck")}}else b.length||t.css("transform","scale(1)"),u.css({"padding-top":w.top,"padding-bottom":w.bottom}).removeClass("stuck")};C(),t(window).scroll(C).resize(C)}}}),function(t){t(window).load(function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),t(".blog-layout-masonry").length&&t(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"})})}(jQuery);